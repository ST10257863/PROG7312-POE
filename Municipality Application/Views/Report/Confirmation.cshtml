@model Municipality_Application.Models.Report

@{
    ViewData["Title"] = "Report Submitted - MunicipalConnect";
}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title">Report Submitted Successfully</h2>
                    <p class="card-text">Thank you for submitting your report. Your report details are:</p>
                    <h3 class="text-primary">Report ID: @Model.Id</h3>
                    <p><strong>Category:</strong> <span id="categoryName"></span></p>
                    <p><strong>Description:</strong> @Model.Description</p>
                    <p><strong>Reported At:</strong> @Model.ReportedAt.ToLocalTime().ToString("g")</p>
                    <p><strong>Status:</strong> @Model.Status</p>
                    <p><strong>Address:</strong> @Model.Address</p>
                    @if (Model.Latitude.HasValue && Model.Longitude.HasValue)
                    {
                        <p><strong>Location:</strong> Lat: @Model.Latitude, Long: @Model.Longitude</p>
                    }
                    @if (!string.IsNullOrEmpty(Model.PhoneNumber))
                    {
                        <p><strong>Contact Phone:</strong> @Model.PhoneNumber</p>
                    }
                    @if (!string.IsNullOrEmpty(Model.Email))
                    {
                        <p><strong>Contact Email:</strong> @Model.Email</p>
                    }
                    <p>Please keep this information for future reference.</p>
                    <a asp-controller="Home" asp-action="Dashboard" class="btn btn-primary mt-3">Return to Dashboard</a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const categoryId = @Model.CategoryId;
            const categoryName = getCategoryName(categoryId);
            document.getElementById('categoryName').textContent = categoryName;
        });

        function getCategoryName(categoryId) {
            switch (categoryId) {
                case 1: return 'Roads';
                case 2: return 'Water';
                case 3: return 'Electricity';
                case 4: return 'Sanitation';
                case 5: return 'Other';
                default: return 'Unknown';
            }
        }
    </script>
}